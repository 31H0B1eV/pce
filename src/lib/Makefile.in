# Makefile
# $Id$

srcdir := @srcdir@
topdir := @top_srcdir@
subdir :=
reldir := ../..


include $(reldir)/config.inc


FILES := brkpt cmd hexdump ihex inidsk iniram load log msg srec

ifeq "$(PCE_ENABLE_TUN)" "1"
FILES += tun
endif

SRC := $(foreach f,$(FILES),$(f).c)
OBJ := $(foreach f,$(FILES),$(f).o)
HDR := $(foreach f,$(FILES),$(f).h)
BIN :=

SDP := Makefile
BDP := Makefile $(OBJ)

CLN := $(OBJ)
DCL := Makefile


include $(reldir)/rules.inc


all: $(OBJ)


brkpt.o:	brkpt.c brkpt.h $(SDP)
cmd.o:		cmd.c cmd.h $(SDP)
hexdump.o:	hexdump.c hexdump.h $(SDP)
ihex.o:		ihex.c ihex.h $(SDP)
inidsk.o:	inidsk.c inidsk.h log.h $(PCE_BLK_HDR) $(SDP)
iniram.o:	iniram.c iniram.h load.h log.h devices/memory.h $(SDP)
load.o:		load.c load.h ihex.h devices/memory.h $(SDP)
log.o:		log.c log.h $(SDP)
msg.o:		msg.c msg.h $(SDP)
tun.o:		tun.c tun.h $(SDP)
srec.o:		srec.c srec.h $(SDP)
