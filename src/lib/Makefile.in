# Makefile
# $Id$

srcdir := @srcdir@
topdir := @top_srcdir@
subdir :=
reldir := ../..


include $(reldir)/config.inc


FILES := brkpt cmd console hexdump iniata ihex \
	inidsk iniram initerm \
	load log monitor msg srec sysdep

ifeq "$(PCE_ENABLE_TUN)" "1"
FILES += tun
endif

SRC := $(foreach f,$(FILES),$(f).c)
OBJ := $(foreach f,$(FILES),$(f).o)
HDR := $(foreach f,$(FILES),$(f).h)
BIN :=

SDP := Makefile
BDP := Makefile $(OBJ)

CLN := $(OBJ)
DCL := Makefile


include $(reldir)/rules.inc


all: $(OBJ)


brkpt.o:	brkpt.c brkpt.h cmd.h $(SDP)
cmd.o:		cmd.c cmd.h console.h $(SDP)
console.o:	console.c console.h $(SDP)
hexdump.o:	hexdump.c hexdump.h $(SDP)
ihex.o:		ihex.c ihex.h $(SDP)
iniata.o:	iniata.c iniata.h log.h devices/ata.h devices/block/block.h \
		devices/memory.h devices/pci-ata.h libini/libini.h $(SDP)
inidsk.o:	inidsk.c inidsk.h log.h libini/libini.h $(PCE_BLK_HDR) $(SDP)
iniram.o:	iniram.c iniram.h load.h log.h devices/memory.h libini/libini.h $(SDP)
initerm.o:	initerm.c initerm.h log.h $(PCE_TERM_HDR) $(SDP)
load.o:		load.c load.h log.h ihex.h devices/memory.h libini/libini.h $(SDP)
log.o:		log.c log.h $(SDP)
monitor.o:	monitor.c monitor.h cmd.h console.h $(SDP)
msg.o:		msg.c msg.h $(SDP)
tun.o:		tun.c tun.h $(SDP)
srec.o:		srec.c srec.h $(SDP)
sysdep.o:	sysdep.c sysdep.h $(SDP)
