# Makefile
# $Id$

srcdir := @srcdir@
topdir := @top_srcdir@
subdir := block
reldir := ../..


include $(reldir)/config.inc


FILES := cga ega hgc mda memory nvram parport pci serport vga video

SRC := $(foreach f,$(FILES),$(f).c)
OBJ := $(foreach f,$(FILES),$(f).o)
HDR := $(foreach f,$(FILES),$(f).h)
SDP := Makefile

CLN := $(OBJ) $(BIN)
DCL := Makefile


include $(reldir)/rules.inc


all: $(BIN) $(OBJ)


cga.o:		cga.c cga.h video.h memory.h \
		libini/libini.h \
		terminal/terminal.h \
		lib/log.h \
		lib/hexdump.h $(SDP)

ega.o:		ega.c ega.h video.h memory.h \
		libini/libini.h \
		terminal/terminal.h \
		lib/log.h \
		lib/hexdump.h $(SDP)

hgc.o:		hgc.c hgc.h video.h memory.h \
		libini/libini.h \
		terminal/terminal.h \
		lib/log.h \
		lib/hexdump.h $(SDP)

mda.o:		mda.c mda.h video.h memory.h \
		libini/libini.h \
		terminal/terminal.h \
		lib/log.h \
		lib/hexdump.h $(SDP)

vga.o:		vga.c vga.h video.h memory.h \
		libini/libini.h \
		terminal/terminal.h \
		lib/log.h \
		lib/hexdump.h $(SDP)

memory.o:	memory.c memory.h $(SDP)

nvram.o:	nvram.c nvram.h memory.h \
		lib/log.h $(SDP)

parport.o:	parport.c parport.h memory.h

pci.o:		pci.c pci.h memory.h

serport.o:	serport.c serport.h memory.h chipset/e8250.h

video.o:	video.c video.h memory.h $(SDP)
