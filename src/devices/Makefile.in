# Makefile
# $Id$

srcdir := @srcdir@
topdir := @top_srcdir@
subdir := block clock video
reldir := ../..


include $(reldir)/config.inc


FILES := ata device memory nvram parport pci pci-ata serport slip

SRC := $(foreach f,$(FILES),$(f).c)
OBJ := $(foreach f,$(FILES),$(f).o)
HDR := $(foreach f,$(FILES),$(f).h)
SDP := Makefile

CLN := $(OBJ) $(BIN)
DCL := Makefile

DIST := $(SRC) $(HDR) Makefile.in


include $(reldir)/rules.inc


all: $(BIN) $(OBJ)


device.o:	device.c device.h $(SDP)

memory.o:	memory.c memory.h $(SDP)

ata.o:		ata.c ata.h memory.h devices/block/block.h $(SDP)

nvram.o:	nvram.c nvram.h memory.h \
		lib/log.h $(SDP)

parport.o:	parport.c parport.h memory.h $(SDP)

pci.o:		pci.c pci.h memory.h $(SDP)

pci-ata.o:	pci-ata.c pci-ata.h pci.h ata.h devices/block/block.h $(SDP)

serport.o:	serport.c serport.h device.h memory.h chipset/82xx/e8250.h $(SDP)

slip.o:		slip.c slip.h lib/tun.h $(SDP)
